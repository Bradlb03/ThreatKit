<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>{% block title %}ThreatKit{% endblock %}</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
<style>
:root{
  /* Main Background color */
--bg:#0f172a;

  /* card/panel top */
--panel:#161e31;

  /* card/panel bottom */
--panel-2:#0b1326;

  /* main text color */
--text:#e2e8f0;

  /* secondary/subtle text color (labels, hints) */
--muted:#94a3b8;

  /* subtle borders around cards/sections */
--border:rgba(148,163,184,.15);

  /* primary accent (buttons/active tab underline start) */
--accent:#6ea8fe; 

  /* secondary accent (buttons/active gradients end) */
--accent-2:#7c3aed; 

  /* success/OK state (e.g., chips/badges if needed) */
--ok:#22c55e;

/* warning color (meters, alerts) */
--warn:#f59e0b;
}
html,body{height:100%; background:var(--bg); color:var(--text);}
.tk-container{max-width:1200px; margin:0 auto; padding:32px 24px;}
.tk-card{background:linear-gradient(180deg, var(--panel), var(--panel-2)); border:1px solid var(--border); border-radius:18px; padding:20px; box-shadow:0 6px 30px rgba(0,0,0,.25);}
.tk-chip{background:rgba(148,163,184,.12); color:var(--text); border:1px solid var(--border); border-radius:999px; padding:6px 10px; font-size:.85rem;}
.tk-subtle{color:var(--muted);}
.tk-hero-title{font-size:2rem; font-weight:700;}
.btn-accent{background:linear-gradient(90deg, var(--accent), var(--accent-2)); color:white; border:none;}
.btn-accent:hover{opacity:.9;}

.tk-input{background:rgba(148,163,184,.12); border:1px solid var(--border); color:var(--text);}
.tk-input::placeholder{color:#64748b;}
.tk-sep{border-top:1px solid var(--border);}

.nav-dark{background:rgba(2,6,23,.6); backdrop-filter: blur(8px); border-bottom:1px solid var(--border);}
.nav-dark .nav-link{color:var(--muted);}
.nav-dark .nav-link.active, .nav-dark .nav-link:hover{color:var(--text);}
.tk-footer{color:var(--muted); font-size:.9rem;}
.meter{height:10px; background:rgba(148,163,184,.12); border-radius:999px; overflow:hidden; border:1px solid var(--border);}
.meter > span{display:block; height:100%; background:linear-gradient(90deg, #f59e0b, #fbbf24);} /* amber gradient */
.tabs .nav-link{color:var(--muted); border:none;}
.tabs .nav-link.active{color:var(--text); background:transparent; border-bottom:2px solid var(--accent);}
a, a:hover{color:#93c5fd;}
/* ----- Score ring visual ----- */
.tk-score__text { fill: var(--text); font-size: 28px; font-weight: 700; }
.tk-score__small { color: var(--muted); font-weight: 400; }

/* Ring color by score */
.tk-score[data-score="0"] .tk-score__ring { stroke: #ef4444; }  /* red-500 */
.tk-score[data-score="1"] .tk-score__ring { stroke: #f59e0b; }  /* amber-500 */
.tk-score[data-score="2"] .tk-score__ring { stroke: #fbbf24; }  /* amber-400 */
.tk-score[data-score="3"] .tk-score__ring { stroke: #22c55e; }  /* green-500 */
.tk-score[data-score="4"] .tk-score__ring { stroke: #16a34a; }  /* green-600 */
.tk-score[data-score="5"] .tk-score__ring { stroke: #16a34a; }  /* green-600 */


</style>
</head>
<body>

<!-- Top nav -->
<nav class="navbar navbar-expand-md nav-dark sticky-top">
<div class="container-fluid tk-container">
<a class="navbar-brand d-flex align-items-center gap-2" href="/">
<span class="d-inline-block" style="width:24px;height:24px;border-radius:8px;background:linear-gradient(135deg,#60a5fa,#7c3aed);"></span>
<span class="fw-semibold" style="color: var(--text);">ThreatKit</span>
</a>
<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMain">
<span class="navbar-toggler-icon"></span>
</button>
<div id="navMain" class="collapse navbar-collapse">
<ul class="navbar-nav ms-auto gap-1">
<li class="nav-item"><a class="nav-link {% if request.path=='/' %}active{% endif %}" href="/">Home</a></li>
<li class="nav-item"><a class="nav-link {% if request.path.startswith('/password') %}active{% endif %}" href="/password">Password</a></li>
<li class="nav-item"><a class="nav-link {% if request.path.startswith('/link') %}active{% endif %}" href="/link">Link</a></li>
<li class="nav-item"><a class="nav-link {% if request.path.startswith('/email') %}active{% endif %}" href="/email">Phishing</a></li>
<li class="nav-item"><a class="nav-link {% if request.path.startswith('/malware') %}active{% endif %}" href="/malware">Malware</a></li>
<li class="nav-item"><a class="nav-link {% if request.path.startswith('/docs') %}active{% endif %}" href="/docs">Docs</a></li>
</ul>
</div>
</div>
</nav>


<main class="tk-container">
{% block content %}{% endblock %}
</main>


<footer class="tk-container tk-footer d-flex justify-content-between py-4">
  <span>© 2025 ThreatKit — Information is never stored</span>
  <span class="d-flex gap-4">
    <a href="/privacy">Privacy</a>
    <a href="#">Terms</a>
    <a href="#">Explainability</a>
  </span>
</footer>

<!-- ===== Privacy / Disclaimer Modal ===== -->
<div class="modal fade" id="privacyModal" tabindex="-1" aria-labelledby="privacyTitle" aria-hidden="true"
     data-bs-backdrop="static" data-bs-keyboard="false">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content" style="background:var(--panel); color:var(--text); border:1px solid var(--border)">
      <div class="modal-header" style="border-bottom:1px solid var(--border)">
        <h1 class="modal-title fs-5" id="privacyTitle">Privacy & Disclaimer</h1>
      </div>
      <div class="modal-body tk-subtle">
        <p class="mb-2">
          ThreatKit is an educational tool. We process inputs in memory and do not intentionally store raw data.
          However, <strong>no automated system is perfect</strong>.
        </p>
        <ul class="mb-2">
          <li>We <strong>cannot guarantee</strong> detection of all threats (links, files, or emails).</li>
          <li>A low-risk score does <strong>not</strong> guarantee safety—use antivirus and best practices.</li>
          <li>ThreatKit and its developers are <strong>not responsible</strong> for damages from missed threats.</li>
        </ul>

        <div class="form-check mt-3">
          <input class="form-check-input" type="checkbox" value="" id="agreeChk">
          <label class="form-check-label" for="agreeChk">
            I understand these limits and accept the Privacy & Disclaimer.
          </label>
        </div>

        <div class="mt-3 small">
          Read the full policy: <a href="/privacy" target="_blank" rel="noopener">Privacy page</a>
        </div>
      </div>
      <div class="modal-footer" style="border-top:1px solid var(--border)">
        <button type="button" id="agreeBtn" class="btn btn-accent" disabled>I Agree</button>
      </div>
    </div>
  </div>
</div>

<!-- Bootstrap JS (required for modal) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<!-- Privacy modal logic -->
<script>
  (function(){
    const KEY = "tk_privacy_accepted_v1";
    const accepted = localStorage.getItem(KEY);
    const modalEl = document.getElementById('privacyModal');
    const agreeChk = document.getElementById('agreeChk');
    const agreeBtn = document.getElementById('agreeBtn');

    if (modalEl && !accepted) {
      const modal = new bootstrap.Modal(modalEl, { backdrop: 'static', keyboard: false });
      modal.show();

      agreeChk.addEventListener('change', () => {
        agreeBtn.disabled = !agreeChk.checked;
      });

      agreeBtn.addEventListener('click', () => {
        if (!agreeChk.checked) return;
        localStorage.setItem(KEY, new Date().toISOString());
        modal.hide();
      });
    }
  })();
</script>

</body>
</html>

